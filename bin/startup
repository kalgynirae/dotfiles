#!/bin/bash

# pgrep sxhkd || sxhkd &

if ! pgrep redshift; then
  case "$(timedatectl show -p Timezone --value)" in
    America/Los_Angeles)
      redshift -l 37.48:-122.15 -t 5850:3000 &  # Menlo Park
      ;;
    America/New_York)
      redshift -l 27.75:-82.63 -t 5850:2800 &  # St. Pete
      ;;
    Europe/London)
      redshift -l 51.52:-0.13 -t 5850:2800 &  # London
      ;;
    Europe/Berlin)
      redshift -l 52.52:13.41 -t 5850:2800 &  # Berlin
  esac
fi

[[ $(hostname) != colinchan-x1 ]] && { pgrep compton || compton --daemon --experimental-backends; }

screensaver on

pgrep polkit-gnome-au || /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 &

pgrep -f beamux-server || ~/bash/beamux/beamux-server &>/tmp/beamux-server.log &

[[ $(hostname) == colinchan-x1 ]] && { pgrep nm-applet || nm-applet & }

~/bin/refresh-peripherals

#!/bin/bash

source ~/.config/backup-params

paths=(
    ~/blender
    ~/documents
    ~/flstudio
    ~/music
    ~/pictures
    ~/recordings
    ~/scores
    ~/sheets
    ~/videos
)

common_args=(
    --password-file ~/.config/backup-password
    --option b2.connections=4
)

if (($# == 0)); then
    args=(
        backup
        "${paths[@]}"
    )
else
    args=("$@")
fi

exec restic "${common_args[@]}" "${args[@]}"

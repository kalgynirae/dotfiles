#!/usr/bin/python3
import operator
import re
import string
import sys
from collections import Counter
from pathlib import Path

lowercase = re.compile("\w+")

letter_counts = {
    word: Counter(word.lower())
    for word in Path("/usr/share/dict/words").read_text().splitlines()
    if lowercase.fullmatch(word)
}

target_count = Counter(sys.argv[1])


def score(letter_count):
    score = 0
    for letter in string.ascii_lowercase:
        if letter_count[letter] > target_count[letter]:
            return 0
        else:
            score += 1
    return score


scores = [(score(count), word) for word, count in letter_counts.items()]

nonzero = [(score, word) for score, word in scores if score > 0]

for score, word in sorted(nonzero, key=lambda item: len(item[1])):
    print(word)
